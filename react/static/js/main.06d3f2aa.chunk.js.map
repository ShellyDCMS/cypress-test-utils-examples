{"version":3,"sources":["services/pokemon.service.tsx","components/pokemon-image/pokemon-image.component.tsx","components/pokemon-catalog/pokemon-catalog.component.tsx","components/pokemon-catalog/pokemon-catalog.container.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PokemonService","_createClass","_this","_classCallCheck","baseUrl","getPokemon","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","getPokemonByOffset","_callee2","params","fetchUrl","_args2","_context2","URLSearchParams","limit","offset","length","undefined","URL","search","toString","PokemonServiceContext","createContext","PokemonImageComponent","props","pokemonIndex","_useState","useState","_useState2","_slicedToArray","showFallbackImage","setShowFallbackImage","_jsx","children","src","concat","alt","className","onError","event","PokemonCatalogComponent","onNext","onPrev","pokemon","setPokemon","pokemonService","useContext","fetchNext","nextPokemon","fetchPrev","_ref2","prevPokemon","previous","fetchByOffset","useCallback","_ref3","_callee3","index","getOffsetFromIndex","_context3","Number","results","alert","getFirstPokemon","_callee4","_context4","useEffect","getPokemonIndex","_pokemon$results$","split","filter","element","pop","_jsxs","_Fragment","_pokemon$results$2","name","getPokemonName","count","onClick","disabled","PokemonCatalog","service","Provider","value","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.06d3f2aa.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport interface Pokemon {\n  name: string;\n  url: string;\n}\n\nexport interface PokemonList {\n  count: number;\n  next: string | null;\n  previous: string | null;\n  results: Pokemon[];\n}\nexport interface IPokemonService {\n  getPokemon: (url: string | URL) => Promise<PokemonList>;\n  getPokemonByOffset: (offset: string) => Promise<PokemonList>;\n}\nexport class PokemonService implements IPokemonService {\n  private baseUrl = \"https://pokeapi.co/api/v2/pokemon\";\n  getPokemon = async (url: string | URL): Promise<PokemonList> =>\n    await (await fetch(url)).json();\n\n  getPokemonByOffset = async (offset: string = \"0\"): Promise<PokemonList> => {\n    const params = new URLSearchParams({ limit: \"1\", offset });\n    const fetchUrl = new URL(this.baseUrl);\n    fetchUrl.search = params.toString();\n    return this.getPokemon(fetchUrl);\n  };\n}\n\nexport const PokemonServiceContext = createContext<IPokemonService | undefined>(\n  undefined\n);\n","import { SyntheticEvent, useState } from \"react\";\nimport \"./pokemon-image.scss\";\n\nexport interface IProps {\n  pokemonIndex: number;\n}\n\nexport const PokemonImageComponent = (props: IProps) => {\n  const { pokemonIndex } = props;\n  const [showFallbackImage, setShowFallbackImage] = useState(false);\n\n  const onImageError = (event: SyntheticEvent<HTMLImageElement, Event>) => {\n    setShowFallbackImage(true);\n  };\n\n  const getPokemonImage = () =>\n    `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/${pokemonIndex}.gif`;\n\n  const getFallbackImage = () =>\n    `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonIndex}.png`;\n\n  return (\n    <div>\n      {showFallbackImage ? (\n        <img data-hook=\"pokemon-fallback-image\" src={getFallbackImage()} alt=\"pokemon\" />\n      ) : (\n        <img\n          data-hook=\"pokemon-image\"\n          src={getPokemonImage()}\n          className=\"pokemon\"\n          alt=\"pokemon\"\n          onError={onImageError}\n        />\n      )}\n    </div>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport \"../../App.scss\";\nimport { IPokemonService, PokemonList, PokemonServiceContext } from \"../../services/pokemon.service\";\nimport { PokemonImageComponent } from \"../pokemon-image/pokemon-image.component\";\nexport interface IPokemonCatalogComponentsProps {\n  onPrev?: () => void;\n  onNext?: () => void;\n}\n\nexport const PokemonCatalogComponent = (props: IPokemonCatalogComponentsProps) => {\n  const { onNext, onPrev } = props;\n  const [pokemon, setPokemon] = useState<PokemonList>();\n  const pokemonService: IPokemonService | undefined = useContext(PokemonServiceContext);\n  const fetchNext = async () => {\n    if (pokemon && pokemon.next) {\n      const nextPokemon = await pokemonService?.getPokemon(pokemon.next);\n      setPokemon(nextPokemon);\n    }\n    onNext && onNext();\n  };\n\n  const fetchPrev = async () => {\n    if (pokemon && pokemon.previous) {\n      const prevPokemon = await pokemonService?.getPokemon(pokemon.previous);\n      setPokemon(prevPokemon);\n    }\n    onPrev && onPrev();\n  };\n\n  const fetchByOffset = useCallback(\n    async (index: string) => {\n      const getOffsetFromIndex = (index: string) => (Number(index) - 1).toString();\n      const offset: string = getOffsetFromIndex(index);\n      const pokemon = await pokemonService?.getPokemonByOffset(offset);\n      if (pokemon?.results.length) {\n        setPokemon(pokemon);\n      } else {\n        alert(`pokemon ${index} not found`);\n      }\n    },\n    [pokemonService]\n  );\n\n  const getFirstPokemon = useCallback(async () => fetchByOffset(\"1\"), [fetchByOffset]);\n  useEffect(() => {\n    getFirstPokemon();\n  }, [getFirstPokemon]);\n\n  const getPokemonIndex = () =>\n    Number(\n      pokemon?.results[0]?.url\n        .split(\"/\")\n        .filter(element => element)\n        .pop() || 0\n    );\n  const getPokemonName = () => pokemon?.results[0]?.name;\n\n  return (\n    <div>\n      <header>\n        {pokemon && (\n          <>\n            <PokemonImageComponent pokemonIndex={getPokemonIndex()} />\n            <h2 data-hook=\"pokemon-name\">{getPokemonName()}</h2>\n            <div data-hook=\"count\">{`${getPokemonIndex()} of ${pokemon.count}`}</div>\n            <div>\n              <button data-hook=\"prev\" onClick={fetchPrev} disabled={!(pokemon && pokemon.previous)}>\n                Prev\n              </button>\n              <button data-hook=\"next\" onClick={fetchNext} disabled={!(pokemon && pokemon.next)}>\n                Next\n              </button>\n            </div>\n          </>\n        )}\n      </header>\n    </div>\n  );\n};\n","import { IPokemonService, PokemonService, PokemonServiceContext } from \"../../services/pokemon.service\";\nimport { IPokemonCatalogComponentsProps, PokemonCatalogComponent } from \"./pokemon-catalog.component\";\n\nexport interface IPokemonCatalogPros extends IPokemonCatalogComponentsProps {\n  service?: IPokemonService;\n}\n\nexport const PokemonCatalog = ({ onNext, onPrev, service }: IPokemonCatalogPros) => {\n  const pokemonService = service || new PokemonService();\n\n  return (\n    <PokemonServiceContext.Provider value={pokemonService}>\n      <PokemonCatalogComponent onNext={onNext} onPrev={onPrev}></PokemonCatalogComponent>\n    </PokemonServiceContext.Provider>\n  );\n};\n","import React from \"react\";\nimport \"./App.scss\";\nimport { PokemonCatalog } from \"./components/pokemon-catalog/pokemon-catalog.container\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <PokemonCatalog></PokemonCatalog>\n      </header>\n      <span>Pokémon and Pokémon character names are trademarks of Nintendo.</span>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}