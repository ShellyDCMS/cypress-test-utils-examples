{"version":3,"sources":["services/pokemon.service.tsx","components/pokemon-image/pokemon-image.component.tsx","components/pokemon-catalog/pokemon-catalog.component.tsx","components/pokemon-catalog/pokemon-catalog.container.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PokemonService","_createClass","_this","_classCallCheck","baseUrl","getPokemon","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","getPokemonByOffset","_callee2","params","fetchUrl","_args2","_context2","URLSearchParams","limit","offset","length","undefined","URL","search","toString","PokemonServiceContext","createContext","PokemonImageComponent","props","pokemonIndex","_useState","useState","_useState2","_slicedToArray","showFallbackImage","setShowFallbackImage","useEffect","_jsx","children","src","concat","alt","className","onError","event","PokemonCatalogComponent","onNext","onPrev","pokemon","setPokemon","pokemonService","useContext","fetchNext","t0","t1","t2","fetchPrev","_ref2","previous","getFirstPokemon","_ref3","_callee3","_context3","getPokemonIndex","Number","results","split","filter","element","pop","_jsxs","_Fragment","name","count","onClick","disabled","PokemonCatalog","service","Provider","value","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.eecffa22.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport interface Pokemon {\n  name: string;\n  url: string;\n}\n\nexport interface PokemonList {\n  count: number;\n  next: string | null;\n  previous: string | null;\n  results: Pokemon[];\n}\n\nexport class PokemonService {\n  private baseUrl = \"https://pokeapi.co/api/v2/pokemon\";\n  getPokemon = async (url: string | URL): Promise<PokemonList> =>\n    await (await fetch(url)).json();\n\n  getPokemonByOffset = async (offset: string = \"0\"): Promise<PokemonList> => {\n    const params = new URLSearchParams({ limit: \"1\", offset });\n    const fetchUrl = new URL(this.baseUrl);\n    fetchUrl.search = params.toString();\n    return this.getPokemon(fetchUrl);\n  };\n}\n\nexport const PokemonServiceContext = createContext<PokemonService | undefined>(\n  undefined\n);\n","import { SyntheticEvent, useEffect, useState } from \"react\";\nimport \"./pokemon-image.scss\";\n\nexport interface IProps {\n  pokemonIndex: number;\n}\n\nexport const PokemonImageComponent = (props: IProps) => {\n  const { pokemonIndex } = props;\n  const [showFallbackImage, setShowFallbackImage] = useState(false);\n  useEffect(() => setShowFallbackImage(false), [pokemonIndex]);\n\n  const onImageError = (event: SyntheticEvent<HTMLImageElement, Event>) => {\n    setShowFallbackImage(true);\n  };\n\n  const getPokemonImage = () =>\n    `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/${pokemonIndex}.gif`;\n\n  const getFallbackImage = () =>\n    `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonIndex}.png`;\n\n  return (\n    <div>\n      {showFallbackImage ? (\n        <img\n          data-cy=\"pokemon-fallback-image\"\n          src={getFallbackImage()}\n          alt=\"pokemon\"\n        />\n      ) : (\n        <img\n          data-cy=\"pokemon-image\"\n          src={getPokemonImage()}\n          className=\"pokemon\"\n          alt=\"pokemon\"\n          onError={onImageError}\n        />\n      )}\n    </div>\n  );\n};\n","import { useContext, useEffect, useState } from \"react\";\nimport \"../../App.scss\";\nimport {\n  PokemonList,\n  PokemonService,\n  PokemonServiceContext\n} from \"../../services/pokemon.service\";\nimport { PokemonImageComponent } from \"../pokemon-image/pokemon-image.component\";\nexport interface IPokemonCatalogComponentsProps {\n  onPrev?: () => void;\n  onNext?: () => void;\n}\n\nexport const PokemonCatalogComponent = (\n  props: IPokemonCatalogComponentsProps\n) => {\n  const { onNext, onPrev } = props;\n  const [pokemon, setPokemon] = useState<PokemonList>();\n  const pokemonService: PokemonService | undefined = useContext(\n    PokemonServiceContext\n  );\n  const fetchNext = async () => {\n    pokemon &&\n      pokemon.next &&\n      setPokemon(await pokemonService?.getPokemon(pokemon.next));\n    onNext && onNext();\n  };\n\n  const fetchPrev = async () => {\n    pokemon &&\n      pokemon.previous &&\n      setPokemon(await pokemonService?.getPokemon(pokemon.previous));\n    onPrev && onPrev();\n  };\n\n  useEffect(() => {\n    const getFirstPokemon = async () =>\n      setPokemon(await pokemonService?.getPokemonByOffset());\n    getFirstPokemon();\n  }, [pokemonService]);\n\n  const getPokemonIndex = () =>\n    Number(\n      pokemon?.results[0].url\n        .split(\"/\")\n        .filter(element => element)\n        .pop()\n    );\n  const getPokemonName = () => pokemon?.results[0].name;\n\n  return (\n    <div>\n      <header>\n        {pokemon && (\n          <>\n            <PokemonImageComponent pokemonIndex={getPokemonIndex()} />\n            <h2 data-cy=\"pokemon-name\">{getPokemonName()}</h2>\n            <div data-cy=\"count\">{`${getPokemonIndex()} of ${\n              pokemon.count\n            }`}</div>\n            <div>\n              <button\n                data-cy=\"prev\"\n                onClick={fetchPrev}\n                disabled={!(pokemon && pokemon.previous)}\n              >\n                Prev\n              </button>\n              <button\n                data-cy=\"next\"\n                onClick={fetchNext}\n                disabled={!(pokemon && pokemon.next)}\n              >\n                Next\n              </button>\n            </div>\n          </>\n        )}\n      </header>\n      <span>\n        Pokémon and Pokémon character names are trademarks of Nintendo.\n      </span>\n    </div>\n  );\n};\n","import {\n  PokemonService,\n  PokemonServiceContext\n} from \"../../services/pokemon.service\";\nimport {\n  IPokemonCatalogComponentsProps,\n  PokemonCatalogComponent\n} from \"./pokemon-catalog.component\";\n\nexport interface IPokemonCatalogPros extends IPokemonCatalogComponentsProps {\n  service?: PokemonService;\n}\n\nexport const PokemonCatalog = ({\n  onNext,\n  onPrev,\n  service\n}: IPokemonCatalogPros) => {\n  const pokemonService = service || new PokemonService();\n\n  return (\n    <PokemonServiceContext.Provider value={pokemonService}>\n      <PokemonCatalogComponent\n        onNext={onNext}\n        onPrev={onPrev}\n      ></PokemonCatalogComponent>\n    </PokemonServiceContext.Provider>\n  );\n};\n","import \"./App.scss\";\nimport { PokemonCatalog } from \"./components/pokemon-catalog/pokemon-catalog.container\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <PokemonCatalog></PokemonCatalog>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}